import{r as c,j as e,q as d,K as L,ab as b,E as f,g as B,m as v,t as y,as as O,w as G,W as U,I as W,p as $,y as F,N as k,O as q,R as K}from"./index-CyAWf64w.js";import{S as V}from"./save-DWrBfmup.js";import{G as J}from"./grip-vertical--YTvICdE.js";import{T as C}from"./type-CSY2a3oy.js";import{F as w,T as Q,I as X}from"./twitter-DaJRryH4.js";import{P as z}from"./phone-BcwFRaBy.js";import{L as Y}from"./linkedin-DpQcpaQ6.js";const Z={id:"header-1",name:"Main Header",rows:[{id:"topbar",name:"Top Bar",visible:!0,sticky:!1,backgroundColor:"#1f2937",textColor:"#ffffff",height:40,elements:[{id:"e1",type:"contact",position:"left",settings:{showPhone:!0,showEmail:!0,phone:"+1 234 567 890",email:"info@example.com"},visible:!0,order:1},{id:"e2",type:"social",position:"right",settings:{platforms:["facebook","twitter","instagram","linkedin"]},visible:!0,order:1}]},{id:"main-header",name:"Main Header",visible:!0,sticky:!0,backgroundColor:"#ffffff",textColor:"#1f2937",height:80,elements:[{id:"e3",type:"logo",position:"left",settings:{type:"image",src:"/logo.png",alt:"Logo",width:150},visible:!0,order:1},{id:"e4",type:"menu",position:"center",settings:{menuId:"primary",style:"horizontal"},visible:!0,order:1},{id:"e5",type:"search",position:"right",settings:{style:"icon",placeholder:"Search..."},visible:!0,order:1},{id:"e6",type:"cart",position:"right",settings:{showCount:!0,showTotal:!1},visible:!0,order:2},{id:"e7",type:"user",position:"right",settings:{showName:!1,showAvatar:!0},visible:!0,order:3}]}],isDefault:!0,responsive:{mobileBreakpoint:768,showMobileMenu:!0,mobileMenuStyle:"slide"}},N=[{type:"logo",icon:W,label:"Logo"},{type:"menu",icon:$,label:"Menu"},{type:"search",icon:F,label:"Search"},{type:"cart",icon:k,label:"Cart"},{type:"user",icon:q,label:"User"},{type:"button",icon:C,label:"Button"},{type:"social",icon:w,label:"Social Icons"},{type:"contact",icon:z,label:"Contact Info"}],oe=({config:E=Z,onSave:p,className:P})=>{const[h,l]=c.useState(E),[g,I]=c.useState(null),[_,ee]=c.useState(null),[m,S]=c.useState(!0),[u,R]=c.useState("desktop"),o=(t,a)=>{l(s=>({...s,rows:s.rows.map(i=>i.id===t?{...i,...a}:i)}))},j=(t,a,s)=>{l(i=>({...i,rows:i.rows.map(r=>r.id===t?{...r,elements:r.elements.map(n=>n.id===a?{...n,...s}:n)}:r)}))},M=()=>{const t={id:`row-${Date.now()}`,name:"New Row",elements:[],visible:!0,sticky:!1,backgroundColor:"#ffffff",textColor:"#1f2937",height:60};l(a=>({...a,rows:[...a.rows,t]}))},T=t=>{l(a=>({...a,rows:a.rows.filter(s=>s.id!==t)}))},H=(t,a)=>{const s={id:`el-${Date.now()}`,type:a,position:"left",settings:{},visible:!0,order:1};l(i=>({...i,rows:i.rows.map(r=>r.id===t?{...r,elements:[...r.elements,s]}:r)}))},A=(t,a)=>{l(s=>({...s,rows:s.rows.map(i=>i.id===t?{...i,elements:i.elements.filter(r=>r.id!==a)}:i)}))},x=t=>{const a=N.find(s=>s.type===t);return(a==null?void 0:a.icon)||C},D=()=>{const t=u==="desktop"?"100%":u==="tablet"?"768px":"375px";return e.jsx("div",{className:"bg-gray-100 dark:bg-gray-800 p-4 rounded-lg",children:e.jsx("div",{className:"mx-auto bg-white dark:bg-gray-900 rounded-lg shadow-lg overflow-hidden transition-all",style:{maxWidth:t},children:h.rows.filter(a=>a.visible).map(a=>e.jsxs("div",{className:d("flex items-center px-4",a.sticky&&"sticky top-0"),style:{backgroundColor:a.backgroundColor,color:a.textColor,height:a.height},children:[e.jsx("div",{className:"flex items-center gap-4",children:a.elements.filter(s=>s.position==="left"&&s.visible).map(s=>{const i=x(s.type);return e.jsx("div",{className:"flex items-center gap-2",children:s.type==="logo"?e.jsx("div",{className:"w-32 h-8 bg-gray-300 rounded flex items-center justify-center text-xs",children:"LOGO"}):s.type==="contact"?e.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[s.settings.showPhone&&e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(z,{size:14})," ",s.settings.phone]}),s.settings.showEmail&&e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(K,{size:14})," ",s.settings.email]})]}):e.jsx(i,{size:20})},s.id)})}),e.jsx("div",{className:"flex-1 flex items-center justify-center gap-4",children:a.elements.filter(s=>s.position==="center"&&s.visible).map(s=>{if(s.type==="menu")return e.jsx("div",{className:"flex items-center gap-6",children:["Home","About","Services","Blog","Contact"].map(r=>e.jsx("span",{className:"text-sm font-medium hover:opacity-70 cursor-pointer",children:r},r))},s.id);const i=x(s.type);return e.jsx(i,{size:20},s.id)})}),e.jsx("div",{className:"flex items-center gap-4",children:a.elements.filter(s=>s.position==="right"&&s.visible).map(s=>{const i=x(s.type);return s.type==="social"?e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(w,{size:16}),e.jsx(Q,{size:16}),e.jsx(X,{size:16}),e.jsx(Y,{size:16})]},s.id):s.type==="cart"?e.jsxs("div",{className:"relative",children:[e.jsx(k,{size:20}),s.settings.showCount&&e.jsx("span",{className:"absolute -top-2 -right-2 w-4 h-4 bg-red-500 text-white text-xs rounded-full flex items-center justify-center",children:"3"})]},s.id):e.jsx(i,{size:20},s.id)})})]},a.id))})})};return e.jsxs("div",{className:d("bg-white dark:bg-gray-900 rounded-xl shadow-lg overflow-hidden",P),children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b bg-gradient-to-r from-blue-50 to-indigo-50 dark:from-gray-800 dark:to-gray-800",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-blue-100 dark:bg-blue-900 rounded-lg",children:e.jsx(L,{size:20,className:"text-blue-600 dark:text-blue-400"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"font-semibold text-gray-900 dark:text-white",children:"Header Manager"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Customize your site header"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>S(!m),className:d("p-2 rounded-lg",m?"bg-blue-100 text-blue-600":"hover:bg-gray-100"),children:m?e.jsx(b,{size:18}):e.jsx(f,{size:18})}),e.jsxs("button",{onClick:()=>p==null?void 0:p(h),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center gap-2",children:[e.jsx(V,{size:16}),"Save Header"]})]})]}),e.jsxs("div",{className:"flex",children:[e.jsxs("div",{className:"flex-1 p-4 border-r",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"font-medium",children:"Header Rows"}),e.jsxs("button",{onClick:M,className:"px-3 py-1.5 text-sm bg-blue-100 text-blue-600 rounded-lg hover:bg-blue-200 flex items-center gap-1",children:[e.jsx(B,{size:14}),"Add Row"]})]}),e.jsx("div",{className:"space-y-4",children:h.rows.map((t,a)=>e.jsxs(v.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"border rounded-lg overflow-hidden",children:[e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 dark:bg-gray-800 cursor-pointer",onClick:()=>I(g===t.id?null:t.id),children:[e.jsx(J,{size:16,className:"text-gray-400 cursor-grab"}),e.jsx("input",{type:"text",value:t.name,onChange:s=>o(t.id,{name:s.target.value}),onClick:s=>s.stopPropagation(),className:"bg-transparent font-medium focus:outline-none"}),e.jsx("div",{className:"flex-1"}),e.jsx("button",{onClick:s=>{s.stopPropagation(),o(t.id,{visible:!t.visible})},className:"p-1 hover:bg-gray-200 rounded",children:t.visible?e.jsx(f,{size:16}):e.jsx(b,{size:16,className:"text-gray-400"})}),e.jsx("button",{onClick:s=>{s.stopPropagation(),T(t.id)},className:"p-1 hover:bg-red-100 text-red-600 rounded",children:e.jsx(y,{size:16})}),g===t.id?e.jsx(O,{size:16}):e.jsx(G,{size:16})]}),e.jsx(U,{children:g===t.id&&e.jsx(v.div,{initial:{height:0},animate:{height:"auto"},exit:{height:0},className:"overflow-hidden",children:e.jsxs("div",{className:"p-4 space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-xs text-gray-500 block mb-1",children:"Height"}),e.jsx("input",{type:"number",value:t.height,onChange:s=>o(t.id,{height:parseInt(s.target.value)}),className:"w-full px-2 py-1 text-sm border rounded"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs text-gray-500 block mb-1",children:"Background"}),e.jsx("input",{type:"color",value:t.backgroundColor,onChange:s=>o(t.id,{backgroundColor:s.target.value}),className:"w-full h-8 rounded cursor-pointer"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs text-gray-500 block mb-1",children:"Text Color"}),e.jsx("input",{type:"color",value:t.textColor,onChange:s=>o(t.id,{textColor:s.target.value}),className:"w-full h-8 rounded cursor-pointer"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs text-gray-500 block mb-1",children:"Sticky"}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:t.sticky,onChange:s=>o(t.id,{sticky:s.target.checked}),className:"rounded"}),e.jsx("span",{className:"text-sm",children:"Enable"})]})]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"Elements"}),e.jsx("div",{className:"flex gap-1",children:N.map(({type:s,icon:i,label:r})=>e.jsx("button",{onClick:()=>H(t.id,s),className:"p-1.5 hover:bg-gray-100 rounded",title:`Add ${r}`,children:e.jsx(i,{size:16})},s))})]}),["left","center","right"].map(s=>e.jsxs("div",{className:"mb-3",children:[e.jsx("div",{className:"text-xs text-gray-400 uppercase mb-1",children:s}),e.jsxs("div",{className:"flex flex-wrap gap-2 min-h-[40px] p-2 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[t.elements.filter(i=>i.position===s).map(i=>{const r=x(i.type);return e.jsxs("div",{className:d("flex items-center gap-2 px-2 py-1 rounded border cursor-pointer",i.visible?"bg-white dark:bg-gray-700":"bg-gray-200 opacity-50"),children:[e.jsx(r,{size:14}),e.jsx("span",{className:"text-xs capitalize",children:i.type}),e.jsxs("select",{value:i.position,onChange:n=>j(t.id,i.id,{position:n.target.value}),className:"text-xs bg-transparent border-none",onClick:n=>n.stopPropagation(),children:[e.jsx("option",{value:"left",children:"Left"}),e.jsx("option",{value:"center",children:"Center"}),e.jsx("option",{value:"right",children:"Right"})]}),e.jsx("button",{onClick:()=>j(t.id,i.id,{visible:!i.visible}),className:"p-0.5 hover:bg-gray-200 rounded",children:i.visible?e.jsx(f,{size:12}):e.jsx(b,{size:12})}),e.jsx("button",{onClick:()=>A(t.id,i.id),className:"p-0.5 hover:bg-red-100 text-red-600 rounded",children:e.jsx(y,{size:12})})]},i.id)}),t.elements.filter(i=>i.position===s).length===0&&e.jsx("span",{className:"text-xs text-gray-400",children:"Drop elements here"})]})]},s))]})]})})})]},t.id))})]}),m&&e.jsxs("div",{className:"w-1/2 p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"font-medium",children:"Preview"}),e.jsx("div",{className:"flex border rounded-lg overflow-hidden",children:["desktop","tablet","mobile"].map(t=>e.jsx("button",{onClick:()=>R(t),className:d("px-3 py-1 text-xs capitalize",u===t?"bg-blue-600 text-white":"hover:bg-gray-100"),children:t},t))})]}),D()]})]})]})};export{oe as HeaderManager,oe as default};
